(window.MIP=window.MIP||[]).push({name:"mip-lightbox",func:function(){define("mip-lightbox/mip-lightbox",["require","customElement","fixed-element","util"],function(e){function t(){var e=this;e.open=!1,e.id=this.element.id,e.scroll=this.element.hasAttribute("content-scroll"),p.css(e.element,{position:"fixed","z-index":10001,top:0,right:0,left:0,transition:"opacity 0.1s ease-in"}),o.call(e),e.addEventAction("close",function(t){c.call(e,t)}),e.addEventAction("open",function(t){l.call(e,t)}),e.addEventAction("toggle",function(t){i.call(e,t)})}function n(){var e=this,t=e.element.getAttribute("autoclosetime"),n=e.element.querySelector(".mip-lightbox-seconds");if(Number(t)&&n){var o=Math.abs(Math.ceil(t));n.innerHTML=o,this.interval=setInterval(function(){if(o-=1,n.innerHTML=o,o<=0)c.call(e)},1e3)}}function o(){var e=this,t=[],n=0;const o=e.element.childNodes;for(n=0;n<o.length;n++)if(1===o[n].nodeType)t.push(o[n]);for(e.container=document.createElement("div"),e.applyFillContent(e.container),e.element.appendChild(e.container),n=0;n<t.length;n++)e.container.appendChild(t[n])}function i(e){s.call(this)?c.call(this,e):l.call(this,e)}function l(e){var t=this;if(!t.open){if(d.hideFixedLayer(d._fixedLayer),e.preventDefault(),!t.scroll)new u(t.element,{preventY:!0});t.open=!0,p.css(t.element,{display:"block"}),f.body=document.body.scrollTop,f.documentElement=document.documentElement.scrollTop,f.offset=window.pageYOffset,document.documentElement.classList.add("mip-no-scroll"),a.call(t),n.call(t)}}function c(e){var t=this;if(t.open){if(d.showFixedLayer(d._fixedLayer),e)e.preventDefault();if(t.open=!1,r.call(t),p.css(t.element,{display:"none"}),document.documentElement.classList.remove("mip-no-scroll"),"function"==typeof document.body.scrollTo)document.body.scrollTo(0,f.body);if("function"==typeof document.documentElement.scrollTo)document.documentElement.scrollTo(0,f.documentElement);window.scrollTo(0,f.offset)}}function s(){return this.open}function a(){var e=this;if(!e.maskElement){const t=document.createElement("div");if(t.id="MIP-LLIGTBOX-MASK",t.setAttribute("on","tap:"+e.id+".close"),t.style.display="block",e.element.parentNode.appendChild(t),!e.scroll)t.addEventListener("touchmove",function(e){e.preventDefault()},!1);e.maskElement=t}p.css(e.maskElement,{display:"block"})}function r(){if(this.maskElement)p.css(this.maskElement,{display:"none"}),clearInterval(this.interval)}var m=e("customElement").create(),d=e("fixed-element"),p=e("util"),u=p.Gesture,f={body:0,documentElement:0,offset:0};return m.prototype.build=t,m.prototype.detachedCallback=function(){clearInterval(this.interval),document.documentElement.classList.remove("mip-no-scroll")},m}),define("mip-lightbox",["mip-lightbox/mip-lightbox"],function(e){return e}),function(){function e(e,t){e.registerMipElement("mip-lightbox",t,"mip-lightbox{max-height:100%;overflow:auto;box-sizing:border-box}mip-lightbox a{color:#fff}mip-lightbox .mip-lightbox-countdown{position:absolute;top:5px;right:5px}#MIP-LLIGTBOX-MASK{position:fixed !important;top:0 !important;left:0 !important;width:100% !important;height:100% !important;background-image:none !important;background:rgba(0,0,0,0.8);z-index:10000 !important;display:none}")}if(window.MIP)require(["mip-lightbox"],function(t){e(window.MIP,t)});else require(["mip","mip-lightbox"],e)}()}});