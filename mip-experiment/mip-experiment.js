define("mip-experiment/mip-experiment",["require","customElement","util"],function(e){function n(e){var n=e.querySelector('script[type="application/json"]').innerHTML,r="";try{r=JSON.parse(n)}catch(e){console.warn("<mip-experiment>配置不是合法JSON, "+e.message)}if(r)for(var o in r){var a=(r[o].sticky===!1?!1:!0,r[o].variants,i(o,r));t(o,a)}}function i(e,n){function i(){var n=window.location.hash.slice(1);if(!n)return"";var i=n.split("&");for(var t in i)if(i[t].match(e)){var r=new RegExp("mip-x-"+e+"=(\\w+)"),o=r.exec(i[t])[1];return o in c?o:""}else;return""}function t(){var n=a.get("mip-x-"+e);return n in c?n:""}function r(){for(var e=100*Math.random(),n=Object.keys(c),i=0;i<n.length-1;i++){var t=(n[i],o(i,c)),r=o(i+1,c);if(0===i&&e<c[n[0]])return n[0];if(e>=t&&e<r)return n[i+1];else if(e>r)continue}return"default"}function o(e,n){var i=Object.keys(n);if(0===e)return n[i[0]];else return n[i[e]]+arguments.callee(e-1,n)}var u=n[e].sticky===!1?!1:!0,c=n[e].variants||{};c.default=100;var m=i();console.log("实验名： "+e+", URL分组 "+m);var s="";if(u&&!m)s=t(),console.log("实验名： "+e+", storage分组 "+s);if(!s&&!m){var l=r();console.log("实验名： "+e+", 新分组 "+l)}var p=m||s||l;return console.log("实验名： "+e+", 最终分组 "+p+"\n\n"),p}function t(e,n){if(a.set("mip-x-"+e,n),"default"!==n)document.getElementsByTagName("body")[0].setAttribute("mip-x-"+e,n)}var r=e("customElement").create(),o=e("util"),a=new o.customStorage(0);return r.prototype.build=function(){var e=this.element;n(e),o.css(e,"display","initial")},r}),define("mip-experiment",["mip-experiment/mip-experiment"],function(e){return e}),function(){function e(e,n){e.registerMipElement("mip-experiment",n,"")}if(window.MIP)require(["mip-experiment"],function(n){e(window.MIP,n)});else require(["mip","mip-experiment"],e)}();